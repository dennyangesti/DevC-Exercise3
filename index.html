<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Exercise 3</title>

   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<body>
   <div class="container-fluid mt-2">
      <div class="text-center">
         <h1 class="display-4 mb-3">Daftar Planet</h1>
         <hr>
         <label>Filter Nama: </label>
         <input type="text" name="" id="filter" placeholder=" Search Here" oninput="filName()" />
         <hr>
      </div>
      <div>
         <table class="table table-striped table-light">
            <thead>
               <tr>
                  <th scope="col">Nama <img src="./sort.png" alt="" style="width: 20px" onclick="sortName()"></th>
                  <th scope="col">Rotation <img src="./sort.png" alt="" style="width: 20px" onclick="sortRotation()">
                  </th>
                  <th scope="col">Orbital <img src="./sort.png" alt="" style="width: 20px" onclick="sortOrbital()"></th>
                  <th scope="col">Diameter <img src="./sort.png" alt="" style="width: 20px" onclick="sortDiameter()">
                  </th>
                  <th scope="col">Climate <img src="./sort.png" alt="" style="width: 20px" onclick="sortClimate()"></th>
                  <th scope="col">Gravity <img src="./sort.png" alt="" style="width: 20px" onclick="sortGravity()"></th>
                  <th scope="col">Terrain <img src="./sort.png" alt="" style="width: 20px" onclick="sortTerrain()"></th>
               </tr>
            </thead>
            <tbody id="list" class="mb-5">
            </tbody>
         </table>
      </div>
   </div>

   <script>
      var data_planet = [
         {
            "name": "Alderaan",
            "rotation_period": "24",
            "orbital_period": "364",
            "diameter": "12500",
            "climate": "temperate",
            "gravity": "1 standard",
            "terrain": "grasslands, mountains",
            "surface_water": "40",
            "population": "2000000000",
            "residents": [
               "https://swapi.co/api/people/5/",
               "https://swapi.co/api/people/68/",
               "https://swapi.co/api/people/81/"
            ],
            "films": [
               "https://swapi.co/api/films/6/",
               "https://swapi.co/api/films/1/"
            ],
            "created": "2014-12-10T11:35:48.479000Z",
            "edited": "2014-12-20T20:58:18.420000Z",
            "url": "https://swapi.co/api/planets/2/"
         },
         {
            "name": "Yavin IV",
            "rotation_period": "24",
            "orbital_period": "4818",
            "diameter": "10200",
            "climate": "temperate, tropical",
            "gravity": "1 standard",
            "terrain": "jungle, rainforests",
            "surface_water": "8",
            "population": "1000",
            "residents": [],
            "films": [
               "https://swapi.co/api/films/1/"
            ],
            "created": "2014-12-10T11:37:19.144000Z",
            "edited": "2014-12-20T20:58:18.421000Z",
            "url": "https://swapi.co/api/planets/3/"
         },
         {
            "name": "Hoth",
            "rotation_period": "23",
            "orbital_period": "549",
            "diameter": "7200",
            "climate": "frozen",
            "gravity": "1.1 standard",
            "terrain": "tundra, ice caves, mountain ranges",
            "surface_water": "100",
            "population": "unknown",
            "residents": [],
            "films": [
               "https://swapi.co/api/films/2/"
            ],
            "created": "2014-12-10T11:39:13.934000Z",
            "edited": "2014-12-20T20:58:18.423000Z",
            "url": "https://swapi.co/api/planets/4/"
         },
         {
            "name": "Dagobah",
            "rotation_period": "23",
            "orbital_period": "341",
            "diameter": "8900",
            "climate": "murky",
            "gravity": "N/A",
            "terrain": "swamp, jungles",
            "surface_water": "8",
            "population": "unknown",
            "residents": [],
            "films": [
               "https://swapi.co/api/films/2/",
               "https://swapi.co/api/films/6/",
               "https://swapi.co/api/films/3/"
            ],
            "created": "2014-12-10T11:42:22.590000Z",
            "edited": "2014-12-20T20:58:18.425000Z",
            "url": "https://swapi.co/api/planets/5/"
         },
         {
            "name": "Bespin",
            "rotation_period": "12",
            "orbital_period": "5110",
            "diameter": "118000",
            "climate": "temperate",
            "gravity": "1.5 (surface), 1 standard (Cloud City)",
            "terrain": "gas giant",
            "surface_water": "0",
            "population": "6000000",
            "residents": [
               "https://swapi.co/api/people/26/"
            ],
            "films": [
               "https://swapi.co/api/films/2/"
            ],
            "created": "2014-12-10T11:43:55.240000Z",
            "edited": "2014-12-20T20:58:18.427000Z",
            "url": "https://swapi.co/api/planets/6/"
         },
         {
            "name": "Endor",
            "rotation_period": "18",
            "orbital_period": "402",
            "diameter": "4900",
            "climate": "temperate",
            "gravity": "0.85 standard",
            "terrain": "forests, mountains, lakes",
            "surface_water": "8",
            "population": "30000000",
            "residents": [
               "https://swapi.co/api/people/30/"
            ],
            "films": [
               "https://swapi.co/api/films/3/"
            ],
            "created": "2014-12-10T11:50:29.349000Z",
            "edited": "2014-12-20T20:58:18.429000Z",
            "url": "https://swapi.co/api/planets/7/"
         },
         {
            "name": "Naboo",
            "rotation_period": "26",
            "orbital_period": "312",
            "diameter": "12120",
            "climate": "temperate",
            "gravity": "1 standard",
            "terrain": "grassy hills, swamps, forests, mountains",
            "surface_water": "12",
            "population": "4500000000",
            "residents": [
               "https://swapi.co/api/people/3/",
               "https://swapi.co/api/people/21/",
               "https://swapi.co/api/people/36/",
               "https://swapi.co/api/people/37/",
               "https://swapi.co/api/people/38/",
               "https://swapi.co/api/people/39/",
               "https://swapi.co/api/people/42/",
               "https://swapi.co/api/people/60/",
               "https://swapi.co/api/people/61/",
               "https://swapi.co/api/people/66/",
               "https://swapi.co/api/people/35/"
            ],
            "films": [
               "https://swapi.co/api/films/5/",
               "https://swapi.co/api/films/4/",
               "https://swapi.co/api/films/6/",
               "https://swapi.co/api/films/3/"
            ],
            "created": "2014-12-10T11:52:31.066000Z",
            "edited": "2014-12-20T20:58:18.430000Z",
            "url": "https://swapi.co/api/planets/8/"
         },
         {
            "name": "Coruscant",
            "rotation_period": "24",
            "orbital_period": "368",
            "diameter": "12240",
            "climate": "temperate",
            "gravity": "1 standard",
            "terrain": "cityscape, mountains",
            "surface_water": "unknown",
            "population": "1000000000000",
            "residents": [
               "https://swapi.co/api/people/34/",
               "https://swapi.co/api/people/55/",
               "https://swapi.co/api/people/74/"
            ],
            "films": [
               "https://swapi.co/api/films/5/",
               "https://swapi.co/api/films/4/",
               "https://swapi.co/api/films/6/",
               "https://swapi.co/api/films/3/"
            ],
            "created": "2014-12-10T11:54:13.921000Z",
            "edited": "2014-12-20T20:58:18.432000Z",
            "url": "https://swapi.co/api/planets/9/"
         },
         {
            "name": "Kamino",
            "rotation_period": "27",
            "orbital_period": "463",
            "diameter": "19720",
            "climate": "temperate",
            "gravity": "1 standard",
            "terrain": "ocean",
            "surface_water": "100",
            "population": "1000000000",
            "residents": [
               "https://swapi.co/api/people/22/",
               "https://swapi.co/api/people/72/",
               "https://swapi.co/api/people/73/"
            ],
            "films": [
               "https://swapi.co/api/films/5/"
            ],
            "created": "2014-12-10T12:45:06.577000Z",
            "edited": "2014-12-20T20:58:18.434000Z",
            "url": "https://swapi.co/api/planets/10/"
         },
         {
            "name": "Geonosis",
            "rotation_period": "30",
            "orbital_period": "256",
            "diameter": "11370",
            "climate": "temperate, arid",
            "gravity": "0.9 standard",
            "terrain": "rock, desert, mountain, barren",
            "surface_water": "5",
            "population": "100000000000",
            "residents": [
               "https://swapi.co/api/people/63/"
            ],
            "films": [
               "https://swapi.co/api/films/5/"
            ],
            "created": "2014-12-10T12:47:22.350000Z",
            "edited": "2014-12-20T20:58:18.437000Z",
            "url": "https://swapi.co/api/planets/11/"
         }
      ]

      var showPlanet = () => {
         var listPlanet = data_planet.map(val => {
            return `
      <tr>
         <td>${val.name}</td>
         <td>${val.rotation_period}</td>
         <td>${val.orbital_period}</td>
         <td>${val.diameter}</td>
         <td>${val.climate}</td>
         <td>${val.gravity}</td>
         <td>${val.terrain}</td>
      </tr
      `
         })

         document.getElementById("list").innerHTML = listPlanet.join("");
      }

      showPlanet()
      console.log(showPlanet)

      var filName = () => {
         var filter = document.getElementById('filter').value
         var hasilFilter = []
         for (var i = 0; i < data_planet.length; i++) {
            var name = data_planet[i].name.toLowerCase()
            var filtername = filter.toLowerCase()

            if (name.includes(filtername)) {
               hasilFilter.push(data_planet[i])
            }
         }

         var filterList = hasilFilter.map(val => {
            return (
               ` <tr>
            <td>${val.name}</td>
            <td>${val.rotation_period}</td>
            <td>${val.orbital_period}</td>
            <td>${val.diameter}</td>
            <td>${val.climate}</td>
            <td>${val.gravity}</td>
            <td>${val.terrain}</td>
         </tr`
            )
         })
         document.getElementById("list").innerHTML = filterList.join("")
      }

      var sortName = () => {
         function compare(a, b) {
            var nameA = a.name
            var nameB = b.name
            var comparison = 0

            if (nameA > nameB) {
               comparison = 1
            } else if (nameA < nameB) {
               comparison = -1
            }
            return comparison
         }

         var sortName = data_planet.sort(compare)
         showPlanet(sortName)
      }

      var sortRotation = () => {
         function compare(a, b) {
            var rotationA = a.rotation_period
            var rotationB = b.rotation_period
            var comparison = 0

            if (rotationA > rotationB) {
               comparison = 1
            } else if (rotationA < rotationB) {
               comparison = -1
            }
            return comparison
         }

         var sortRotation = data_planet.sort(compare)
         showPlanet(sortRotation)
      }

      var sortOrbital = () => {
         function compare(a, b) {
            var orbitalA = a.orbital_period
            var orbitalB = b.orbital_period
            var comparison = 0

            if (orbitalA > orbitalB) {
               comparison = 1
            } else if (orbitalA < orbitalB) {
               comparison = -1
            }
            return comparison
         }

         var sortOrbital = data_planet.sort(compare)
         showPlanet(sortOrbital)
      }

      var sortDiameter = () => {
         function compare(a, b) {
            var diameterA = a.diameter
            var diameterB = b.diameter
            var comparison = 0

            if (diameterA > diameterB) {
               comparison = 1
            } else if (diameterA < diameterB) {
               comparison = -1
            }
            return comparison
         }

         var sortDiameter = data_planet.sort(compare)
         showPlanet(sortDiameter)
      }

      var sortClimate = () => {
         function compare(a, b) {
            var climateA = a.climate
            var climateB = b.climate
            var comparison = 0

            if (climateA > climateB) {
               comparison = 1
            } else if (climateA < climateB) {
               comparison = -1
            }
            return comparison
         }

         var sortClimate = data_planet.sort(compare)
         showPlanet(sortClimate)
      }

      var sortOrbital = () => {
         function compare(a, b) {
            var orbitalA = a.orbital_period
            var orbitalB = b.orbital_period
            var comparison = 0

            if (orbitalA > orbitalB) {
               comparison = 1
            } else if (orbitalA < orbitalB) {
               comparison = -1
            }
            return comparison
         }

         var sortOrbital = data_planet.sort(compare)
         showPlanet(sortOrbital)
      }

      var sortGravity = () => {
         function compare(a, b) {
            var gravityA = a.gravity
            var gravityB = b.gravity
            var comparison = 0

            if (gravityA > gravityB) {
               comparison = 1
            } else if (gravityA < gravityB) {
               comparison = -1
            }
            return comparison
         }

         var sortGravity = data_planet.sort(compare)
         showPlanet(sortGravity)
      }

      var sortTerrain = () => {
         function compare(a, b) {
            var terrainA = a.terrain
            var terrainB = b.terrain
            var comparison = 0

            if (terrainA > terrainB) {
               comparison = 1
            } else if (terrainA < terrainB) {
               comparison = -1
            }
            return comparison
         }

         var sortTerrain = data_planet.sort(compare)
         showPlanet(sortTerrain)
      }
   </script>

   <script defer src="./planet.js"></script>
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"></script>
</body>

</html>
